<!DOCTYPE html> 
<html> 
  
<head> 
    <title>Detailed Info
    </title> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles3.css">
    <script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
    <link rel="manifest" href="manifest.json">   
    <meta name="theme-color" content="#262626">
    <!-- iOS support -->
    <link rel="apple-touch-icon" href="/JSON/img/icons/icon-96x96.png">
    <link rel="apple-touch-icon" href="/JSON/img/icons/icon-128x128.png">
    <meta name="apple-mobile-web-app-status-bar" content="#262626">
    <meta name="theme-color" content="#262626">

    <!-- Script to get JSON file and display its content --> 
    <script type = "text/javascript" language="javascript"> 
        var idSelector = "";
        
        // Extracting the info we want to display based on the id passed in the url, which is stored in idSelector    
        function extractRec(myarray) {
            var listCards = "";
            for (var i in myarray) {
                // if the id is equal to the id passed in the url, then use JSON file to retrieve 
                // the relevant info to display on screen, then break out of the loop
                if (myarray[i].id == idSelector) {
                    listCards = '<div class="capsule hidden" id="details" ><div class="cTop ' + myarray[i].color + '"><h3>' + myarray[i].title + '</h3></div><div class="cBottom">' + myarray[i].details + '</div></div>';
                    break;
                }
            }
            return listCards;
        }
        $(document).ready(function () {
            $.getJSON("https://asj3.github.io/JSON/cardContent4.json", (data) => {
                console.log(data);
                // Getting the id located in the url
                idSelector = location.search.slice(1);
                var cardRec = data.recommendations;
                var detailedRec = extractRec(cardRec);
                $('#content').append(detailedRec);
                $(".hidden").fadeIn(210,"swing");
            });
        });
      
      function tickBox(x) {
          innerText = x.innerHTML;
          if (innerText == "") {
            x.innerHTML = "&#10003;";
            x.style.background = "#0095e6";
          }
          else {
            x.innerHTML = "";
            x.style.background = "#ffffff";
          }
      }
      </script> 
   </head> 
       
  <body id="content"> 
    <div class="topBar" >
        <div class="sideButton hidden">
            <a href="index.html"><div class="arrowLeft"></div></a>
        </div>
    </div>
        <!--<div class="capsule" id="details">
            <div class="cTop brightBlue"><h3 id="detailsTitle">Optimization</h3></div>
            <div class="cBottom" id="detailsContent"><p>Here are the details</p></div>
            <h3>OPTIMIZATION</h3>
            <p>Here are more details about this</p>
        </div>-->
    <script src="/JSON/js/app.js"></script>
  </body> 
